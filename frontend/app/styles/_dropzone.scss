/*!
 *
 *  Echoes - A feedback platform for social marketing.
 *  Copyright (C) 2020 Properly - dani (at) properly.com.br/ola (at) properly.com.br
 *
 *       This program is free software: you can redistribute it and/or modify
 *       it under the terms of the GNU Affero General Public License as published
 *       by the Free Software Foundation, either version 3 of the License, or
 *       (at your option) any later version.
 *
 *       This program is distributed in the hope that it will be useful,
 *       but WITHOUT ANY WARRANTY; without even the implied warranty of
 *       MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 *       GNU Affero General Public License for more details.
 *
 *       You should have received a copy of the GNU Affero General Public License
 *       along with this program.  If not, see <https://www.gnu.org/licenses/>.
 *
 */

.dropzone {
  @include border-radius($default-border-radius);
  position: relative;
  overflow: hidden;
  margin: .5rem 0 .375rem;
  border: 2px dashed darken($light-grey, 10);
  background-color: $light-grey;
  padding: 0 1.25em .5em;

  @include breakpoint($bp__small) {
    padding: 0;
    height: 15.125rem;
  }

  .primary-info {
    margin-bottom: 0.325rem;
  }

  .secondary-info {
    margin-top: 0.325rem;
    font-size: 0.625rem;
  }

  .desc {
    text-align: center;
    font-size: $small-font;

    p {
      color: lighten($base-grey, 15);
    }
  }

  .symbol {
    @include replace-text-with-dimensions('../images/upload.png');
    margin: 1rem auto 0;

    @include breakpoint($bp__small) {
      margin: 4rem auto 0;
    }
  }

  .attachment-thumb {
    text-align: center;
    display: flex;
    align-items: center;
    justify-content: center;
    height: 100%;

    img {
      max-width: 100%;
    }

    .preview-image {
      max-width: 100%;
      height: auto;
    }

    .preview-video {
      max-width: 90%;
      height: auto;
      max-height: 100%;
    }
  }

  .processing {
    padding: 1rem;

    @include breakpoint($bp__small) {
      padding-top: 5.5rem;
    }

    p {
      color: $blue;
      text-align: center;
    }
  }

  .loader {
    display: block;
    margin: 0 auto;
    width: 12rem;
    color: $blue;
    text-align: center;
    font-weight: 100;
    font-size: 1.5rem;
    padding: 1rem;

    @include breakpoint($bp__small) {
      padding: 5rem;
    }
  }

  .progress {
    display: block;
    margin: .25rem;
    white-space: pre;
  }

  .bar-bg {
    overflow: hidden;
    height: .125rem;
    background: $base-grey;
  }

  .bar {
    display: block;
    height: 100%;
    background: $blue;
  }

  input {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    opacity: 0;
  }

  &.dropzone-small {
    padding: 0 1.25em .5em;
    width: 9em;
    height: 8.25rem;

    .loader {
      padding: 1rem;
      width: 100%;
    }

    .processing {
      padding-top: 1.75rem;
    }

    .symbol {
      margin: 1em auto 0;
    }
  }

  &.dragover {
    border-color: mix($base-grey, $blue, 10);
    background: mix($light-grey, $blue, 95); //#dce7ee;

    .desc {
      display: block !important;
    }

    .desc p {
      color: mix($base-grey, $blue, 10);
    }
    .symbol {
      @include replace-text-with-dimensions('../images/upload-over.png');
    }

    .attachment-thumb {
      display: none;
      text-align: center;
    }
  }
}
