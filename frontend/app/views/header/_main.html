<!--
  ~
  ~  Echoes - A feedback platform for social marketing.
  ~  Copyright (C) 2020 Properly - dani (at) properly.com.br/ola (at) properly.com.br
  ~
  ~       This program is free software: you can redistribute it and/or modify
  ~       it under the terms of the GNU Affero General Public License as published
  ~       by the Free Software Foundation, either version 3 of the License, or
  ~       (at your option) any later version.
  ~
  ~       This program is distributed in the hope that it will be useful,
  ~       but WITHOUT ANY WARRANTY; without even the implied warranty of
  ~       MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
  ~       GNU Affero General Public License for more details.
  ~
  ~       You should have received a copy of the GNU Affero General Public License
  ~       along with this program.  If not, see <https://www.gnu.org/licenses/>.
  ~
  -->

<div ng-controller="HeaderCtrl">
  <header class="top-bar" ng-show="!isHome() && !isLogin() && !isPublic() && !isGuest()">
    <h1><a ng-href="{{logoPath}}" class="header-logo">echoes</a></h1>

    <ul class="main-navigation" toggle-navigation>
      <li ng-show="user.id && !uuid" class="menu-toggle menu-item">
        <a href="#" class="menu-toggle-link"><span class="icon"></span></a>
      </li>
      <li class="menu-item calendar-tab" ng-class="{active: current(calendarPath)}">
        <a ng-click="showCalendar()"><span class="icon"></span></a>
      </li>
      <li class="menu-item list-tab" ng-class="{active: current(listPath)}"
      ng-hide="uuid">
        <a ng-href="{{listPath}}"><span class="icon"></span></a>
      </li>
      <li class="menu-item add-post-tab" ng-hide="uuid">
        <a href="/posts/new" class="btn btn-plus"><span class="plus">+</span><span class="add-post-text">{{'post.create-post' | t}}</span></a>
      </li>


      <li class="secondary-navigation">
        <ul>
          <li dropdown class="profile-tab dropdown">
            <h2 class="nav-item" dropdown-toggle><span class="icon">{{'menu.profile' | t}}</span></h2>
            <ul class="secondary-navigation-dropdown" dropdown-menu>
              <li><a href="/profile">{{ 'user.edit' | t }}</a>
              </li>
              <li class="organization-nav" ng-show="user.owner">
                <a href="/organizations/edit">{{ 'organization.edit' | t }}</a>
                <ul>
                  <li><a href="/organizations/invitations">{{ 'organization.members.list' | t }}</a></li>
                </ul>
              </li>
              <li><a href="" ng-click="signOut()">{{ 'session.sign_out' | t }}</a>
              </li>
            </ul>
          </li>

          <li dropdown class="settings-tab dropdown">
            <h2 class="nav-item" dropdown-toggle><span class="icon">{{ 'menu.settings' | t }}</span></h2>
            <ul class="secondary-navigation-dropdown" dropdown-menu>
              <li><a ng-show="user.role == 'superadmin'" href="/admin">admin</a>
              </li>
            </ul>
          </li>

        </ul>
      </li>
    </ul>

  </header>
</div>
