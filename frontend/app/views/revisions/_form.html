<!--
  ~
  ~  Echoes - A feedback platform for social marketing.
  ~  Copyright (C) 2020 Properly - dani (at) properly.com.br/ola (at) properly.com.br
  ~
  ~       This program is free software: you can redistribute it and/or modify
  ~       it under the terms of the GNU Affero General Public License as published
  ~       by the Free Software Foundation, either version 3 of the License, or
  ~       (at your option) any later version.
  ~
  ~       This program is distributed in the hope that it will be useful,
  ~       but WITHOUT ANY WARRANTY; without even the implied warranty of
  ~       MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
  ~       GNU Affero General Public License for more details.
  ~
  ~       You should have received a copy of the GNU Affero General Public License
  ~       along with this program.  If not, see <https://www.gnu.org/licenses/>.
  ~
  -->

<div class="new-content-wrapper" ng-repeat="content in revision.contents">
  <div class="form-group">
    <label>{{ 'content.target' | t }}</label>
    <ul class="target-list">
      <li ng-repeat="target in targets">
        <a ng-class="{active: content.target == target}" href="#" ng-click="content.target=target; $event.preventDefault();">
          <em class="icons-target icons-target-{{target}}"></em>
          {{ 'content.targets.' + target | t }}
        </a>
      </li>
    </ul>
  </div>


  <div>
    <fieldset class="column-medium">
      <label>{{ 'content.body' | t }}</label>
      <textarea class="block-control" ng-model="content.body"></textarea>
    </fieldset>

    <fieldset class="column-medium">
      <label>{{ 'content.image' | t }}</label>
      <div uploader="image" ng-model="content" base-url="contents" inline-preview="true"></div>
      <a class="remove-content" ng-click="removeContent(content, $index);">{{ 'content.remove' | t }}<em class="icons-garbage"></em></a>
    </fieldset>
  </div>

</div>

<div class="add-content-wrapper">
  <a ng-click="addContent('generic');">
    <em class="icons-add-content"></em>
    {{ 'content.add' | t }}
  </a>
  <ul>
    <li ng-repeat="target in targets">
    <a ng-click="addContent(target);"><em class="icons-target icons-target-{{target}}"></em></a>
    </li>
  </ul>
</div>
